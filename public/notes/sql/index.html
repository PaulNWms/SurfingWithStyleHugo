<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" href="/index.xml" type="application/rss+xml" title="Surfing With Style">
    <link rel="icon" href="http://surfingwithstyle.com//favicon.ico">
    <title>SQL - Surfing With Style</title>
    
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/highlight/github.css">
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/bootstrap.min.css">
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/theme.css">
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/bootie-docs.css">
    <link rel="stylesheet" href="http://surfingwithstyle.com//css/site.css">
</head>

<body role="document">

    
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://surfingwithstyle.com//">Surfing With Style</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Tools<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            
                            
                            <li><a href="">Timer</a></li>
                            
                            
                            
                            <li><a href="">What&#39;s My IP?</a></li>
                            
                            
                            
                            <li><a href="">Calculator</a></li>
                            
                            
                            
                            <li><a href="">Old English Letters</a></li>
                            
                            
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Practice<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            
                            
                            <li><a href="">Metronome</a></li>
                            
                            
                            
                            <li><a href="">Scheduled Metronome</a></li>
                            
                            
                            
                            <li><a href="">Accelerating Metronome</a></li>
                            
                            
                            
                            <li><a href="">Presets</a></li>
                            
                            
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Notes<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            
                            
                            <li><a href="">MS</a></li>
                            
                            
                            
                            <li><a href="">Python</a></li>
                            
                            
                            
                            <li><a href="">Web</a></li>
                            
                            
                            
                            <li><a href="">Design Patterns</a></li>
                            
                            
                            
                            <li><a href="">Git</a></li>
                            
                            
                            
                            <li><a href="/notes/solid/">SOLID</a></li>
                            
                            
                            
                            <li><a href="/notes/sql/">SQL</a></li>
                            
                            
                            
                            <li><a href="">Other ...</a></li>
                            
                            
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Links<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            
                            
                            <li><a href="">Tools2</a></li>
                            
                            
                            
                            <li><a href="">Books</a></li>
                            
                            
                        </ul>
                    </li>
                    
                    
                    
                </ul>
                
            </div>
        </div>
    </nav>

    <div class="container">


<div class="row">
	<div class="col-sm-8 doc-main">
		<main role="main">
			<article>
				<a id="title"></a>
				<h1 class="doc-entry-title">SQL</h1>
				<div class="doc-entry-meta">
					<span><time datetime="2019-12-15">December 15, 2019</time></span>
				</div>
				<section>
					<pre><code>Query steps:
1. FROM: Cartesian product (cross join)
2. ON: apply the ON filter (inner join)
3. OUTER JOIN: add back outer rows
4. WHERE
5. GROUP BY
6. CUBE or ROLLUP
7. HAVING
8. SELECT
9. DISTINCT
10. ORDER BY
11. TOP

Put all that together and it spells FOOWGRHSDOT.

Three-valued logic in SQL means values can be TRUE, FALSE, or UNKNOWN (e.g. NULL &gt; 0).  

UNKNOWN is treated as FALSE in ON, WHERE and HAVING filters.
UNKNOWN is treated as TRUE in in check constraints.

A GROUP BY clause groups all NULLs in one group.
An ORDER BY clause sorts all NULLs together.

You can't use aggregate filters in a WHERE condition because the data hasn't been grouped yet.

If a GROUP BY clause is specified in a query, all following steps (HAVING, SELECT) can specify
only expressions that result in a scalar value for the group.

The only clause that can refer to column aliases defined in the SELECT list is ORDER BY.

Each step hands a logical &quot;virtual tables&quot; to the subsequent step until ORDER BY, which returns
a cursor.

A query with an ORDER BY clause can therefore not be used as a table expression - view, inline
table-valued function, subquery or CTE.

TOP is non-standard SQL and can use the cursor created by ORDER BY.  That is mainly how it is
used.

UNION removes duplicate records, UNION ALL does not.

APPLY is similar to JOIN.  APPLY (logically) evaluates the left table, and then the right table
is evaluated once for each row of the left table.
- CROSS APPLY only returns matching rows
- OUTER APPLY includes rows from the left table that didn't match (similar to LEFT OUTER JOIN)
- Use case: get the 2 most recent orders from each customer

PIVOT converts categorical data to columns.
UNPIVOT converts columns to categorical data.
</code></pre>
				</section>
			</article>
		</main>
	</div> 

	

<div class="col-sm-3 col-sm-offset-1 doc-sidebar">
	<div id="sidebar">
	<div class="sidebar-module">
		<div class="sidebar-toc">
			<h4 class="sidebar-heading">Table of Contents</h4>
			<ul>
				<li><strong><a href="#title">SQL</a></strong></li>
			</ul>
			<nav id="TableOfContents"></nav>
		</div>
	</div>
	<div class="sidebar-module">
		<h4 class="sidebar-heading">Pages in Categories</h4>
		<ul class="sidebar-category-list">
		
		</ul>
	</div>
	<div class="sidebar-module">
		<h4 class="sidebar-heading">Tags</h4>
		<div class="tag-box">
		
		</div>
	</div>
	</div>
</div>

</div> 


<hr />

<div class="row">
	<div class="col-sm-8">
		<p class="doc-footer-em"><a href="#" onclick="resetSidebarPos()">Back to TOP</a></p>
	</div>
</div>

</div> 

<footer class="doc-footer">
	<p class="doc-footer-em">Browse <strong><a href="http://your-repository-url">Repository</a></strong></p>
	
	<p>Powered by <strong><a href="https://github.com/progrhyme/hugo-theme-bootie-docs">Bootie Docs</a></strong> - theme for <a href="http://gohugo.io/">Hugo</a> by <a href="https://github.com/progrhyme/">progrhyme</a>.</p>
</footer>



<script src="http://surfingwithstyle.com//js/jquery.min.js"></script>
<script src="http://surfingwithstyle.com//js/bootstrap.min.js"></script>

<script src="http://surfingwithstyle.com//js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="http://surfingwithstyle.com//js/ie10-viewport-bug-workaround.js"></script>
<script src="http://surfingwithstyle.com//js/bootie-docs.js"></script>

</body>
</html>
